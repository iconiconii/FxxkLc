# å¼‚æ­¥æ¥å£æ”¹é€ è®¡åˆ’

## æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è§„åˆ’äº† CodeTop FSRS ç³»ç»Ÿä¸­åŒæ­¥æ¥å£å‘å¼‚æ­¥æ¥å£çš„è¿ç§»è®¡åˆ’ã€‚é€šè¿‡å¼‚æ­¥åŒ–æ”¹é€ ï¼Œæå‡ç³»ç»Ÿæ€§èƒ½ï¼Œæ”¹å–„ç”¨æˆ·ä½“éªŒï¼Œå¹¶å¢å¼ºç³»ç»Ÿå¯æ‰©å±•æ€§ã€‚

## å½“å‰å¼‚æ­¥åŸºç¡€è®¾æ–½

### å·²å¯ç”¨åŠŸèƒ½
- âœ… `@EnableAsync` - Springå¼‚æ­¥å¤„ç†æ”¯æŒ
- âœ… `@EnableCaching` - Redisç¼“å­˜æ”¯æŒ  
- âœ… `CompletableFuture` - å¼‚æ­¥è¿”å›å€¼æ”¯æŒ
- âœ… å·²æœ‰å¼‚æ­¥æ–¹æ³•: `UserParametersService.optimizeParametersAsync()`

### åŸºç¡€æ¶æ„
```java
@SpringBootApplication
@EnableCaching
@EnableAsync
@EnableScheduling
@MapperScan("com.codetop.mapper")
public class CodetopFsrsApplication
```

## è¿ç§»ä¼˜å…ˆçº§åˆ†çº§

### ğŸ”´ é«˜ä¼˜å…ˆçº§ - ç«‹å³è¿ç§»
è®¡ç®—å¯†é›†å‹ã€ç”¨æˆ·ç­‰å¾…æ—¶é—´é•¿çš„æ¥å£

### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ - åˆ†é˜¶æ®µè¿ç§»  
æ•°æ®èšåˆã€æ‰¹é‡æ“ä½œæ¥å£

### ğŸŸ¢ ä½ä¼˜å…ˆçº§ - å¯é€‰è¿ç§»
æ€§èƒ½æ•æ„Ÿä½†ä¸ç´§æ€¥çš„æ¥å£

---

## ğŸ”´ é«˜ä¼˜å…ˆçº§è¿ç§»ä»»åŠ¡

### 1. FSRSå‚æ•°ä¼˜åŒ–æ¥å£

**æ¥å£**: `POST /api/v1/review/optimize-parameters`  
**æ–‡ä»¶**: `src/main/java/com/codetop/controller/ReviewController.java:218`

#### å½“å‰çŠ¶æ€
```java
public ResponseEntity<OptimizationResult> optimizeParameters(
    @AuthenticationPrincipal UserPrincipal userPrincipal,
    @Valid @RequestBody OptimizationRequest request) {
    
    var optimizedParameters = fsrsService.optimizeUserParameters(userPrincipal.getId());
    return ResponseEntity.ok(result);
}
```

#### æ”¹é€ è®¡åˆ’
- **é˜¶æ®µ1**: ä¿®æ”¹ä¸ºå¼‚æ­¥ä»»åŠ¡æäº¤
  - [ ] ä¿®æ”¹Controlleræ–¹æ³•ç­¾å
  - [ ] é›†æˆAsyncTaskManager
  - [ ] å®ç°ä»»åŠ¡IDç”Ÿæˆé€»è¾‘
  - [ ] æ·»åŠ ä»»åŠ¡æäº¤å“åº”æ ¼å¼
- **é˜¶æ®µ2**: å¢åŠ ä»»åŠ¡çŠ¶æ€æŸ¥è¯¢æ¥å£
  - [ ] åˆ›å»ºä»»åŠ¡çŠ¶æ€æŸ¥è¯¢ç«¯ç‚¹
  - [ ] å®ç°ä»»åŠ¡è¿›åº¦è·Ÿè¸ª
  - [ ] æ·»åŠ ç»“æœæ•°æ®åºåˆ—åŒ–
  - [ ] é”™è¯¯å¤„ç†å’Œå¼‚å¸¸ç®¡ç†
- **é˜¶æ®µ3**: æ”¯æŒä»»åŠ¡å–æ¶ˆåŠŸèƒ½
  - [ ] å®ç°ä»»åŠ¡å–æ¶ˆé€»è¾‘
  - [ ] æ·»åŠ å–æ¶ˆç¡®è®¤æœºåˆ¶
  - [ ] èµ„æºæ¸…ç†å’ŒçŠ¶æ€æ›´æ–°

#### å®ç°æ–¹æ¡ˆ
```java
// 1. å¼‚æ­¥ä»»åŠ¡æäº¤
@PostMapping("/optimize-parameters")
public ResponseEntity<AsyncTaskResponse> optimizeParametersAsync(
    @AuthenticationPrincipal UserPrincipal userPrincipal) {
    
    String taskId = UUID.randomUUID().toString();
    CompletableFuture<UserParameters> future = 
        userParametersService.optimizeParametersAsync(userPrincipal.getId());
    
    taskManager.registerTask(taskId, future);
    
    return ResponseEntity.accepted()
        .body(AsyncTaskResponse.builder()
            .taskId(taskId)
            .status("SUBMITTED")
            .estimatedDuration("30-60 seconds")
            .statusUrl("/api/v1/tasks/" + taskId)
            .build());
}

// 2. ä»»åŠ¡çŠ¶æ€æŸ¥è¯¢
@GetMapping("/tasks/{taskId}")
public ResponseEntity<TaskStatusResponse> getTaskStatus(@PathVariable String taskId) {
    return ResponseEntity.ok(taskManager.getTaskStatus(taskId));
}
```

#### æ•°æ®åº“å˜æ›´
- [ ] åˆ›å»ºå¼‚æ­¥ä»»åŠ¡çŠ¶æ€è¡¨
- [ ] æ·»åŠ å¿…è¦ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢
- [ ] æ‰§è¡Œæ•°æ®åº“è¿ç§»è„šæœ¬
- [ ] éªŒè¯è¡¨ç»“æ„æ­£ç¡®æ€§

```sql
-- å¼‚æ­¥ä»»åŠ¡çŠ¶æ€è¡¨
CREATE TABLE async_tasks (
    id VARCHAR(36) PRIMARY KEY,
    user_id BIGINT NOT NULL,
    task_type VARCHAR(50) NOT NULL,
    status ENUM('SUBMITTED', 'RUNNING', 'COMPLETED', 'FAILED') NOT NULL,
    result_data JSON,
    error_message TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    completed_at TIMESTAMP NULL,
    INDEX idx_user_id (user_id),
    INDEX idx_status (status)
);
```

#### æ—¶é—´ä¼°ç®—
- å¼€å‘æ—¶é—´: 3-4å¤©
- æµ‹è¯•æ—¶é—´: 2å¤©
- **æ€»è®¡**: 5-6å¤©

---

### 2. ç³»ç»ŸæŒ‡æ ‡ç»Ÿè®¡æ¥å£

**æ¥å£**: `GET /api/v1/analytics/system-metrics`  
**æ–‡ä»¶**: `src/main/java/com/codetop/controller/AnalyticsController.java:126`

#### å½“å‰çŠ¶æ€
```java
@GetMapping("/system-metrics")
public ResponseEntity<Map<String, Object>> getSystemMetrics(
    @RequestParam(defaultValue = "30") int days) {
    
    var metrics = fsrsService.getSystemMetrics(days);
    return ResponseEntity.ok(metrics);
}
```

#### æ”¹é€ è®¡åˆ’
- **é˜¶æ®µ1**: å®ç°æŠ¥è¡¨å¼‚æ­¥ç”Ÿæˆ
  - [ ] åˆ›å»ºMetricsServiceå¼‚æ­¥æ–¹æ³•
  - [ ] è®¾è®¡æŠ¥è¡¨ç”Ÿæˆä»»åŠ¡ç»“æ„
  - [ ] å®ç°æ•°æ®èšåˆç®—æ³•ä¼˜åŒ–
  - [ ] æ·»åŠ è¿›åº¦å›è°ƒæœºåˆ¶
- **é˜¶æ®µ2**: å¢åŠ æŠ¥è¡¨ç¼“å­˜æœºåˆ¶
  - [ ] è®¾è®¡å¤šçº§ç¼“å­˜ç­–ç•¥
  - [ ] å®ç°ç¼“å­˜è¿‡æœŸå’Œåˆ·æ–°é€»è¾‘
  - [ ] æ·»åŠ ç¼“å­˜å‘½ä¸­ç‡ç›‘æ§
  - [ ] ä¼˜åŒ–ç¼“å­˜é”®ç­–ç•¥
- **é˜¶æ®µ3**: æ”¯æŒå®šæ—¶é¢„ç”Ÿæˆ
  - [ ] é…ç½®å®šæ—¶ä»»åŠ¡è°ƒåº¦
  - [ ] å®ç°çƒ­ç‚¹æŠ¥è¡¨è¯†åˆ«
  - [ ] æ·»åŠ é¢„ç”Ÿæˆå¤±è´¥é‡è¯•æœºåˆ¶
  - [ ] ç›‘æ§é¢„ç”Ÿæˆä»»åŠ¡æ€§èƒ½

#### å®ç°æ–¹æ¡ˆ
```java
// 1. å¼‚æ­¥æŠ¥è¡¨ç”Ÿæˆ
@PostMapping("/system-metrics/generate")
public ResponseEntity<AsyncTaskResponse> generateSystemMetricsAsync(
    @RequestParam(defaultValue = "30") int days) {
    
    String taskId = metricsService.scheduleMetricsGeneration(days);
    return ResponseEntity.accepted()
        .body(AsyncTaskResponse.builder()
            .taskId(taskId)
            .estimatedDuration("2-5 minutes")
            .build());
}

// 2. ç¼“å­˜æŠ¥è¡¨è·å–
@GetMapping("/system-metrics")
@Cacheable(value = "system-metrics", key = "#days")
public ResponseEntity<SystemMetricsResponse> getSystemMetrics(
    @RequestParam(defaultValue = "30") int days) {
    
    // å°è¯•ä»ç¼“å­˜è·å–æœ€æ–°æŠ¥è¡¨
    var cachedMetrics = metricsCache.getLatestMetrics(days);
    if (cachedMetrics != null && !isStale(cachedMetrics)) {
        return ResponseEntity.ok(cachedMetrics);
    }
    
    // è§¦å‘å¼‚æ­¥ç”Ÿæˆå¹¶è¿”å›å ä½æ•°æ®
    metricsService.scheduleMetricsGeneration(days);
    return ResponseEntity.ok(getPlaceholderMetrics());
}
```

#### æ—¶é—´ä¼°ç®—
- å¼€å‘æ—¶é—´: 2-3å¤©
- æµ‹è¯•æ—¶é—´: 1å¤©
- **æ€»è®¡**: 3-4å¤©

---

## ğŸŸ¡ ä¸­ä¼˜å…ˆçº§è¿ç§»ä»»åŠ¡

### 3. å¢å¼ºæœç´¢æ¥å£

**æ¥å£**: `POST /api/v1/problems/enhanced-search`  
**æ–‡ä»¶**: `src/main/java/com/codetop/controller/ProblemController.java:118`

#### æ”¹é€ è®¡åˆ’
- **é˜¶æ®µ1**: æ™ºèƒ½æœç´¢è·¯ç”±
  - [ ] å®ç°æœç´¢å¤æ‚åº¦è¯„ä¼°ç®—æ³•
  - [ ] è®¾è®¡åŒæ­¥/å¼‚æ­¥åˆ†æµé€»è¾‘
  - [ ] æ·»åŠ æœç´¢é¢„ä¼°æ—¶é—´è®¡ç®—
  - [ ] ä¼˜åŒ–æŸ¥è¯¢æ¡ä»¶è§£æ
- **é˜¶æ®µ2**: å¼‚æ­¥æœç´¢å®ç°
  - [ ] åˆ›å»ºSearchTaskService
  - [ ] å®ç°åˆ†é¡µç»“æœå¼‚æ­¥è¿”å›
  - [ ] æ·»åŠ æœç´¢è¿›åº¦è¿½è¸ª
  - [ ] æ”¯æŒç»“æœæµå¼ä¼ è¾“
- **é˜¶æ®µ3**: æœç´¢ç»“æœå¯¼å‡º
  - [ ] å®ç°Excel/CSVå¯¼å‡ºåŠŸèƒ½
  - [ ] æ·»åŠ å¤§æ–‡ä»¶åˆ†ç‰‡ä¸‹è½½
  - [ ] æ”¯æŒå¯¼å‡ºä»»åŠ¡è°ƒåº¦
  - [ ] æ·»åŠ å¯¼å‡ºå†å²ç®¡ç†

#### æ”¹é€ åŸå› 
- å¤æ‚å¤šæ¡ä»¶æŸ¥è¯¢å¯èƒ½è¶…æ—¶
- å¤§ç»“æœé›†è¿”å›å½±å“ç”¨æˆ·ä½“éªŒ
- æ”¯æŒæœç´¢ç»“æœå¯¼å‡ºåŠŸèƒ½

#### å®ç°æ–¹æ¡ˆ
```java
@PostMapping("/enhanced-search/async")
public ResponseEntity<AsyncSearchResponse> enhancedSearchAsync(
    @RequestBody EnhancedSearchRequest request) {
    
    if (isLargeResultSet(request)) {
        // å¤§æ•°æ®é›†å¼‚æ­¥å¤„ç†
        String taskId = searchService.submitAsyncSearch(request);
        return ResponseEntity.accepted().body(
            AsyncSearchResponse.builder()
                .taskId(taskId)
                .searchType("ASYNC")
                .build()
        );
    } else {
        // å°æ•°æ®é›†åŒæ­¥è¿”å›
        var results = problemService.enhancedSearch(request);
        return ResponseEntity.ok(
            AsyncSearchResponse.builder()
                .results(results)
                .searchType("SYNC")
                .build()
        );
    }
}
```

#### æ—¶é—´ä¼°ç®—
- å¼€å‘æ—¶é—´: 2å¤©
- æµ‹è¯•æ—¶é—´: 1å¤©
- **æ€»è®¡**: 3å¤©

### 4. æœˆåº¦è¿›åº¦ç»Ÿè®¡æ¥å£

**æ¥å£**: `GET /api/v1/analytics/monthly-progress`  
**æ–‡ä»¶**: `src/main/java/com/codetop/controller/AnalyticsController.java:98`

#### æ”¹é€ è®¡åˆ’
- **é˜¶æ®µ1**: æ¸è¿›å¼æ•°æ®åŠ è½½
  - [ ] è®¾è®¡æ•°æ®åˆ†ç‰‡åŠ è½½ç­–ç•¥
  - [ ] å®ç°æ‡’åŠ è½½æœºåˆ¶
  - [ ] æ·»åŠ æ•°æ®é¢„åŠ è½½é€»è¾‘
  - [ ] ä¼˜åŒ–æ•°æ®ä¼ è¾“æ ¼å¼
- **é˜¶æ®µ2**: å®æ—¶æ›´æ–°æ¨é€
  - [ ] é›†æˆWebSocketè¿æ¥
  - [ ] å®ç°æ•°æ®å˜æ›´ç›‘å¬
  - [ ] æ·»åŠ å¢é‡æ›´æ–°æ¨é€
  - [ ] æ”¯æŒè¿æ¥çŠ¶æ€ç®¡ç†
- **é˜¶æ®µ3**: æ•°æ®é¢„è®¡ç®—ä¼˜åŒ–
  - [ ] è¯†åˆ«é«˜é¢‘æŸ¥è¯¢æ—¶é—´æ®µ
  - [ ] å®ç°åå°é¢„è®¡ç®—ä»»åŠ¡
  - [ ] æ·»åŠ é¢„è®¡ç®—ç»“æœç¼“å­˜
  - [ ] ç›‘æ§é¢„è®¡ç®—ä»»åŠ¡æ€§èƒ½

#### æ—¶é—´ä¼°ç®—
- å¼€å‘æ—¶é—´: 2å¤©
- æµ‹è¯•æ—¶é—´: 1å¤©
- **æ€»è®¡**: 3å¤©

---

## ğŸŸ¢ ä½ä¼˜å…ˆçº§è¿ç§»ä»»åŠ¡

### 5. FSRSé˜Ÿåˆ—ç”Ÿæˆä¼˜åŒ–

**æ–¹æ³•**: `FSRSService.generateReviewQueue()`  
**æ–‡ä»¶**: `src/main/java/com/codetop/service/FSRSService.java:259`

#### å½“å‰çŠ¶æ€
- å·²å®ç°Redisç¼“å­˜
- æ€§èƒ½åŸºæœ¬æ»¡è¶³éœ€æ±‚
- å¯è€ƒè™‘é¢„ç”Ÿæˆä¼˜åŒ–

#### æ”¹é€ è®¡åˆ’
- **é˜¶æ®µ1**: ç”¨æˆ·æ´»è·ƒåº¦åˆ†æ
  - [ ] å®ç°ç”¨æˆ·æ´»è·ƒåº¦è¯„ä¼°ç®—æ³•
  - [ ] è®¾è®¡æ´»è·ƒç”¨æˆ·è¯†åˆ«ç­–ç•¥
  - [ ] æ·»åŠ ç”¨æˆ·è¡Œä¸ºæ•°æ®æ”¶é›†
  - [ ] ä¼˜åŒ–æ´»è·ƒåº¦è®¡ç®—æ€§èƒ½
- **é˜¶æ®µ2**: æ™ºèƒ½é¢„ç”Ÿæˆç­–ç•¥
  - [ ] åŸºäºä½¿ç”¨æ¨¡å¼é¢„æµ‹é˜Ÿåˆ—éœ€æ±‚
  - [ ] å®ç°åŠ¨æ€é¢„ç”Ÿæˆè°ƒåº¦
  - [ ] æ·»åŠ é¢„ç”ŸæˆæˆåŠŸç‡ç›‘æ§
  - [ ] æ”¯æŒé¢„ç”Ÿæˆç­–ç•¥è°ƒä¼˜

#### ä¼˜åŒ–æ–¹æ¡ˆ
```java
@Async
@Scheduled(fixedRate = 300000) // æ¯5åˆ†é’Ÿ
public void preGeneratePopularQueues() {
    // ä¸ºæ´»è·ƒç”¨æˆ·é¢„ç”Ÿæˆé˜Ÿåˆ—
    List<Long> activeUsers = getActiveUsers();
    for (Long userId : activeUsers) {
        generateReviewQueue(userId, 20);
    }
}
```

#### æ—¶é—´ä¼°ç®—
- å¼€å‘æ—¶é—´: 1å¤©
- æµ‹è¯•æ—¶é—´: 0.5å¤©
- **æ€»è®¡**: 1.5å¤©

---

## æŠ€æœ¯å®ç°æ–¹æ¡ˆ

### 1. å¼‚æ­¥ä»»åŠ¡ç®¡ç†å™¨

#### å¼€å‘å­ä»»åŠ¡
- [ ] è®¾è®¡AsyncTaskManageræ ¸å¿ƒæ¥å£
- [ ] å®ç°ä»»åŠ¡æ³¨å†Œå’Œç”Ÿå‘½å‘¨æœŸç®¡ç†
- [ ] æ·»åŠ ä»»åŠ¡çŠ¶æ€æŒä¹…åŒ–é€»è¾‘
- [ ] å®ç°ä»»åŠ¡è¶…æ—¶å’Œæ¸…ç†æœºåˆ¶
- [ ] æ·»åŠ ä»»åŠ¡æ‰§è¡Œç›‘æ§å’Œæ—¥å¿—
- [ ] æ”¯æŒä»»åŠ¡ä¼˜å…ˆçº§ç®¡ç†
- [ ] å®ç°ä»»åŠ¡å¤±è´¥é‡è¯•æœºåˆ¶
- [ ] æ·»åŠ ä»»åŠ¡æ‰§è¡Œç»Ÿè®¡åŠŸèƒ½

```java
@Component
public class AsyncTaskManager {
    
    private final Map<String, CompletableFuture<?>> activeTasks = new ConcurrentHashMap<>();
    private final AsyncTaskRepository taskRepository;
    
    public <T> String registerTask(String taskId, CompletableFuture<T> future) {
        activeTasks.put(taskId, future);
        
        // ä¿å­˜ä»»åŠ¡çŠ¶æ€åˆ°æ•°æ®åº“
        AsyncTask task = AsyncTask.builder()
            .id(taskId)
            .status(TaskStatus.RUNNING)
            .createdAt(LocalDateTime.now())
            .build();
        taskRepository.save(task);
        
        // å¼‚æ­¥å¤„ç†ä»»åŠ¡å®Œæˆ
        future.whenComplete((result, exception) -> {
            handleTaskCompletion(taskId, result, exception);
        });
        
        return taskId;
    }
    
    public TaskStatusResponse getTaskStatus(String taskId) {
        AsyncTask task = taskRepository.findById(taskId)
            .orElseThrow(() -> new TaskNotFoundException(taskId));
            
        return TaskStatusResponse.builder()
            .taskId(taskId)
            .status(task.getStatus())
            .result(task.getResultData())
            .error(task.getErrorMessage())
            .createdAt(task.getCreatedAt())
            .completedAt(task.getCompletedAt())
            .build();
    }
}
```

### 2. ç»Ÿä¸€å¼‚æ­¥å“åº”æ ¼å¼

#### å¼€å‘å­ä»»åŠ¡
- [ ] è®¾è®¡AsyncTaskResponseæ ‡å‡†æ ¼å¼
- [ ] å®ç°TaskStatusResponseçŠ¶æ€æšä¸¾
- [ ] æ·»åŠ å“åº”æ•°æ®åºåˆ—åŒ–æ”¯æŒ
- [ ] è®¾è®¡é”™è¯¯ä¿¡æ¯æ ‡å‡†åŒ–æ ¼å¼
- [ ] å®ç°å“åº”æ•°æ®å‹ç¼©ä¼˜åŒ–
- [ ] æ·»åŠ å¤šè¯­è¨€é”™è¯¯ä¿¡æ¯æ”¯æŒ
- [ ] æ”¯æŒå“åº”æ ¼å¼ç‰ˆæœ¬å…¼å®¹

```java
@Data
@Builder
public class AsyncTaskResponse {
    private String taskId;
    private String status;
    private String estimatedDuration;
    private String statusUrl;
    private String resultUrl;
    private LocalDateTime submittedAt;
}

@Data
@Builder
public class TaskStatusResponse {
    private String taskId;
    private TaskStatus status;
    private Object result;
    private String errorMessage;
    private LocalDateTime createdAt;
    private LocalDateTime completedAt;
    private Integer progressPercentage;
}
```

### 3. å‰ç«¯é€‚é…æ–¹æ¡ˆ

#### å¼€å‘å­ä»»åŠ¡
- [ ] å®ç°å¼‚æ­¥ä»»åŠ¡æäº¤å·¥å…·å‡½æ•°
- [ ] è®¾è®¡è½®è¯¢çŠ¶æ€æŸ¥è¯¢æœºåˆ¶
- [ ] æ·»åŠ ä»»åŠ¡è¿›åº¦æ˜¾ç¤ºç»„ä»¶
- [ ] å®ç°ä»»åŠ¡å–æ¶ˆåŠŸèƒ½
- [ ] æ·»åŠ ä»»åŠ¡æ‰§è¡Œè¶…æ—¶å¤„ç†
- [ ] æ”¯æŒä»»åŠ¡ç»“æœç¼“å­˜
- [ ] å®ç°WebSocketå®æ—¶çŠ¶æ€æ¨é€
- [ ] æ·»åŠ ä»»åŠ¡æ‰§è¡Œå†å²æŸ¥çœ‹

```javascript
// å¼‚æ­¥ä»»åŠ¡æäº¤
async function submitAsyncTask(endpoint, data) {
    const response = await fetch(endpoint, {
        method: 'POST',
        body: JSON.stringify(data)
    });
    
    if (response.status === 202) {
        const task = await response.json();
        return pollTaskStatus(task.taskId);
    }
    
    return response.json();
}

// è½®è¯¢ä»»åŠ¡çŠ¶æ€
async function pollTaskStatus(taskId) {
    const statusUrl = `/api/v1/tasks/${taskId}`;
    
    return new Promise((resolve, reject) => {
        const poll = async () => {
            const response = await fetch(statusUrl);
            const status = await response.json();
            
            if (status.status === 'COMPLETED') {
                resolve(status.result);
            } else if (status.status === 'FAILED') {
                reject(new Error(status.errorMessage));
            } else {
                setTimeout(poll, 2000); // 2ç§’åé‡è¯•
            }
        };
        
        poll();
    });
}
```

---

## å®æ–½æ—¶é—´è¡¨

### Phase 1 (Week 1-2): åŸºç¡€è®¾æ–½å»ºè®¾
- [ ] **å¼‚æ­¥ä»»åŠ¡ç®¡ç†å™¨å¼€å‘**
  - [ ] è®¾è®¡AsyncTaskManageræ¥å£
  - [ ] å®ç°ä»»åŠ¡æ³¨å†Œå’ŒçŠ¶æ€ç®¡ç†
  - [ ] æ·»åŠ ä»»åŠ¡æ‰§è¡Œç›‘æ§
  - [ ] å®ç°ä»»åŠ¡æ¸…ç†æœºåˆ¶
- [ ] **æ•°æ®åº“è¡¨ç»“æ„åˆ›å»º**
  - [ ] è®¾è®¡async_tasksè¡¨ç»“æ„
  - [ ] æ·»åŠ å¿…è¦ç´¢å¼•ä¼˜åŒ–
  - [ ] æ‰§è¡Œæ•°æ®åº“è¿ç§»è„šæœ¬
  - [ ] éªŒè¯è¡¨ç»“æ„æ­£ç¡®æ€§
- [ ] **ç»Ÿä¸€å“åº”æ ¼å¼å®šä¹‰**
  - [ ] å®šä¹‰AsyncTaskResponseæ ¼å¼
  - [ ] å®ç°TaskStatusResponse
  - [ ] æ·»åŠ é”™è¯¯å¤„ç†æ ¼å¼
  - [ ] ç¼–å†™APIæ–‡æ¡£
- [ ] **åŸºç¡€æµ‹è¯•ç¯å¢ƒæ­å»º**
  - [ ] é…ç½®æµ‹è¯•æ•°æ®åº“
  - [ ] æ­å»ºå•å…ƒæµ‹è¯•æ¡†æ¶
  - [ ] å‡†å¤‡æ€§èƒ½æµ‹è¯•å·¥å…·
  - [ ] é…ç½®CI/CDæµæ°´çº¿

### Phase 2 (Week 3-4): é«˜ä¼˜å…ˆçº§æ¥å£è¿ç§»
- [ ] **FSRSå‚æ•°ä¼˜åŒ–æ¥å£å¼‚æ­¥åŒ–**
  - [ ] ä¿®æ”¹Controlleræ–¹æ³•ç­¾å
  - [ ] é›†æˆAsyncTaskManager
  - [ ] å®ç°ä»»åŠ¡çŠ¶æ€æŸ¥è¯¢
  - [ ] æ·»åŠ ä»»åŠ¡å–æ¶ˆåŠŸèƒ½
  - [ ] ç¼–å†™å•å…ƒæµ‹è¯•
- [ ] **ç³»ç»ŸæŒ‡æ ‡ç»Ÿè®¡æ¥å£æ”¹é€ **
  - [ ] å®ç°å¼‚æ­¥æŠ¥è¡¨ç”Ÿæˆ
  - [ ] æ·»åŠ å¤šçº§ç¼“å­˜æœºåˆ¶
  - [ ] é…ç½®å®šæ—¶é¢„ç”Ÿæˆ
  - [ ] ä¼˜åŒ–æ•°æ®èšåˆç®—æ³•
  - [ ] æ·»åŠ æ€§èƒ½ç›‘æ§
- [ ] **å®Œæ•´åŠŸèƒ½æµ‹è¯•**
  - [ ] æ‰§è¡Œæ¥å£åŠŸèƒ½æµ‹è¯•
  - [ ] è¿›è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•
  - [ ] æµ‹è¯•å¼‚å¸¸åœºæ™¯å¤„ç†
  - [ ] éªŒè¯æ•°æ®ä¸€è‡´æ€§

### Phase 3 (Week 5-6): ä¸­ä¼˜å…ˆçº§æ¥å£è¿ç§»
- [ ] **å¢å¼ºæœç´¢æ¥å£ä¼˜åŒ–**
  - [ ] å®ç°æ™ºèƒ½æœç´¢è·¯ç”±
  - [ ] æ·»åŠ å¼‚æ­¥æœç´¢åŠŸèƒ½
  - [ ] æ”¯æŒæœç´¢ç»“æœå¯¼å‡º
  - [ ] ä¼˜åŒ–æœç´¢æ€§èƒ½
  - [ ] æ·»åŠ æœç´¢ç»Ÿè®¡åˆ†æ
- [ ] **æœˆåº¦è¿›åº¦ç»Ÿè®¡å¼‚æ­¥åŒ–**
  - [ ] å®ç°æ¸è¿›å¼æ•°æ®åŠ è½½
  - [ ] æ·»åŠ å®æ—¶æ›´æ–°æ¨é€
  - [ ] é…ç½®æ•°æ®é¢„è®¡ç®—
  - [ ] ä¼˜åŒ–æ•°æ®ä¼ è¾“æ ¼å¼
  - [ ] æ·»åŠ ç¼“å­˜ç­–ç•¥
- [ ] **æ€§èƒ½åŸºå‡†æµ‹è¯•**
  - [ ] æ‰§è¡Œå¹¶å‘æ€§èƒ½æµ‹è¯•
  - [ ] æµ‹è¯•å†…å­˜ä½¿ç”¨æƒ…å†µ
  - [ ] éªŒè¯å“åº”æ—¶é—´æ”¹å–„
  - [ ] åˆ†æç³»ç»Ÿç“¶é¢ˆ

### Phase 4 (Week 7): ä½ä¼˜å…ˆçº§ä¼˜åŒ–
- [ ] **FSRSé˜Ÿåˆ—é¢„ç”Ÿæˆ**
  - [ ] å®ç°ç”¨æˆ·æ´»è·ƒåº¦åˆ†æ
  - [ ] é…ç½®æ™ºèƒ½é¢„ç”Ÿæˆç­–ç•¥
  - [ ] æ·»åŠ é¢„ç”Ÿæˆç›‘æ§
  - [ ] ä¼˜åŒ–é¢„ç”Ÿæˆæ€§èƒ½
- [ ] **ç³»ç»Ÿæ•´ä½“æ€§èƒ½è°ƒä¼˜**
  - [ ] ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½
  - [ ] è°ƒæ•´ç¼“å­˜ç­–ç•¥é…ç½®
  - [ ] ä¼˜åŒ–JVMå‚æ•°è®¾ç½®
  - [ ] é…ç½®è¿æ¥æ± å‚æ•°
- [ ] **æ–‡æ¡£æ›´æ–°**
  - [ ] æ›´æ–°APIæ¥å£æ–‡æ¡£
  - [ ] ç¼–å†™å¼‚æ­¥æ¥å£ä½¿ç”¨æŒ‡å—
  - [ ] æ›´æ–°éƒ¨ç½²è¿ç»´æ–‡æ¡£
  - [ ] ç¼–å†™æ•…éšœæ’æŸ¥æŒ‡å—

### Phase 5 (Week 8): ä¸Šçº¿å‡†å¤‡
- [ ] **å®Œæ•´å›å½’æµ‹è¯•**
  - [ ] æ‰§è¡Œå…¨åŠŸèƒ½å›å½’æµ‹è¯•
  - [ ] è¿›è¡Œå‹åŠ›æµ‹è¯•éªŒè¯
  - [ ] æµ‹è¯•æ•°æ®è¿ç§»æµç¨‹
  - [ ] éªŒè¯ç›‘æ§å‘Šè­¦åŠŸèƒ½
- [ ] **ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²**
  - [ ] å‡†å¤‡ç”Ÿäº§ç¯å¢ƒé…ç½®
  - [ ] æ‰§è¡Œæ•°æ®åº“è¿ç§»
  - [ ] éƒ¨ç½²åº”ç”¨ç¨‹åº
  - [ ] éªŒè¯æœåŠ¡å¥åº·çŠ¶æ€
- [ ] **ç›‘æ§å‘Šè­¦é…ç½®**
  - [ ] é…ç½®ä»»åŠ¡æ‰§è¡Œç›‘æ§
  - [ ] è®¾ç½®æ€§èƒ½æŒ‡æ ‡å‘Šè­¦
  - [ ] æ·»åŠ ä¸šåŠ¡æŒ‡æ ‡ç›‘æ§
  - [ ] é…ç½®æ—¥å¿—æ”¶é›†åˆ†æ
- [ ] **ç”¨æˆ·åŸ¹è®­æ–‡æ¡£**
  - [ ] ç¼–å†™ç”¨æˆ·æ“ä½œæŒ‡å—
  - [ ] å½•åˆ¶åŠŸèƒ½æ¼”ç¤ºè§†é¢‘
  - [ ] å‡†å¤‡FAQæ–‡æ¡£
  - [ ] ç»„ç»‡ç”¨æˆ·åŸ¹è®­ä¼šè®®

---

## é£é™©è¯„ä¼°ä¸ç¼“è§£

### æŠ€æœ¯é£é™©
| é£é™©é¡¹ | å½±å“ç¨‹åº¦ | å‘ç”Ÿæ¦‚ç‡ | ç¼“è§£æªæ–½ |
|--------|----------|----------|----------|
| å¼‚æ­¥ä»»åŠ¡å †ç§¯ | é«˜ | ä¸­ | å®ç°ä»»åŠ¡é˜Ÿåˆ—é™æµå’Œä¼˜é›…é™çº§ |
| ç¼“å­˜ä¸€è‡´æ€§ | ä¸­ | ä¸­ | ä½¿ç”¨Redisåˆ†å¸ƒå¼é”å’Œç‰ˆæœ¬æ§åˆ¶ |
| æ¥å£å…¼å®¹æ€§ | é«˜ | ä½ | ä¿æŒå‘åå…¼å®¹ï¼Œæ¸è¿›å¼è¿ç§» |

### ä¸šåŠ¡é£é™©  
| é£é™©é¡¹ | å½±å“ç¨‹åº¦ | å‘ç”Ÿæ¦‚ç‡ | ç¼“è§£æªæ–½ |
|--------|----------|----------|----------|
| ç”¨æˆ·ä½“éªŒä¸‹é™ | é«˜ | ä½ | å……åˆ†æµ‹è¯•å’Œç”¨æˆ·åé¦ˆæ”¶é›† |
| ç³»ç»Ÿä¸ç¨³å®š | é«˜ | ä½ | åˆ†é˜¶æ®µå‘å¸ƒå’Œå¿«é€Ÿå›æ»šæœºåˆ¶ |

---

## æˆåŠŸæŒ‡æ ‡

### æ€§èƒ½æŒ‡æ ‡
- [ ] å‚æ•°ä¼˜åŒ–æ¥å£å“åº”æ—¶é—´ < 500ms (ä»»åŠ¡æäº¤)
- [ ] ç³»ç»ŸæŒ‡æ ‡ç”Ÿæˆæ—¶é—´å‡å°‘ > 70%
- [ ] å¹¶å‘å¤„ç†èƒ½åŠ›æå‡ > 50%

### ç”¨æˆ·ä½“éªŒæŒ‡æ ‡  
- [ ] æ¥å£è¶…æ—¶ç‡ < 0.1%
- [ ] ç”¨æˆ·æ»¡æ„åº¦ > 4.5/5
- [ ] ç³»ç»Ÿå¯ç”¨æ€§ > 99.9%

### ç³»ç»ŸæŒ‡æ ‡
- [ ] CPUä½¿ç”¨ç‡å³°å€¼é™ä½ > 30%
- [ ] å†…å­˜ä½¿ç”¨ç¨³å®šæ€§æå‡
- [ ] æ•°æ®åº“è¿æ¥æ± åˆ©ç”¨ç‡ä¼˜åŒ–

---

## æ€»ç»“

æœ¬å¼‚æ­¥æ¥å£æ”¹é€ è®¡åˆ’é¢„è®¡è€—æ—¶ **8å‘¨**ï¼Œæ¶‰åŠ **5ä¸ªæ ¸å¿ƒæ¥å£** çš„å¼‚æ­¥åŒ–æ”¹é€ ã€‚é€šè¿‡åˆ†é˜¶æ®µå®æ–½ï¼Œå¯ä»¥åœ¨ä¿è¯ç³»ç»Ÿç¨³å®šæ€§çš„å‰æä¸‹ï¼Œæ˜¾è‘—æå‡ç³»ç»Ÿæ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚

æ”¹é€ å®Œæˆåï¼Œç³»ç»Ÿå°†å…·å¤‡æ›´å¼ºçš„æ‰©å±•æ€§å’ŒæŠ—å‹èƒ½åŠ›ï¼Œä¸ºåç»­ä¸šåŠ¡å‘å±•å¥ å®šåšå®åŸºç¡€ã€‚