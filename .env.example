# =============================================================================
# CodeTop FSRS Backend - Environment Configuration Template
# =============================================================================
# Copy this file to .env and configure with your actual values
# NEVER commit .env files to version control

# =============================================================================
# SECURITY CONFIGURATION (REQUIRED IN PRODUCTION)
# =============================================================================

# JWT Configuration - MUST be 256+ bits in production
JWT_SECRET=your_jwt_secret_key_minimum_256_bits_long_for_production_security_2024_replace_with_secure_key
JWT_EXPIRATION=3600000
JWT_REFRESH_EXPIRATION=86400000

# CORS Configuration - Specify exact origins, no wildcards
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_USER=100
RATE_LIMIT_PER_IP=1000
RATE_LIMIT_WINDOW=1

# Druid Security
DRUID_SECURITY_ENABLED=true
DRUID_ADMIN_ROLE=ADMIN

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Primary Database
DATABASE_URL=jdbc:mysql://localhost:3306/codetop_fsrs_prod?useUnicode=true&characterEncoding=UTF-8&useSSL=true&serverTimezone=UTC
DATABASE_USERNAME=your_db_username
DATABASE_PASSWORD=your_db_password

# Database Connection Pool
DB_INITIAL_SIZE=20
DB_MAX_ACTIVE=500
DB_MAX_WAIT=60000

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
REDIS_DATABASE=0
REDIS_MAX_ACTIVE=200

# =============================================================================
# OAUTH2 CONFIGURATION (Optional)
# =============================================================================

# GitHub OAuth
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# Google OAuth  
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Application Environment
SPRING_PROFILES_ACTIVE=prod

# Logging Level
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_CODETOP=INFO

# External Monitoring (Optional)
SENTRY_DSN=your_sentry_dsn
PROMETHEUS_ENABLED=true

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================

MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your_email@gmail.com
MAIL_PASSWORD=your_email_password
MAIL_FROM=noreply@yourdomain.com

# =============================================================================
# FILE STORAGE CONFIGURATION (Optional)
# =============================================================================

# Local file storage
FILE_STORAGE_PATH=/var/lib/codetop/uploads
FILE_MAX_SIZE=10MB

# AWS S3 (if using cloud storage)
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=codetop-fsrs-uploads

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# JVM Settings (for deployment scripts)
JAVA_OPTS=-Xmx2g -Xms1g -XX:+UseG1GC -XX:MaxGCPauseMillis=100

# Thread Pool Configuration
SERVER_TOMCAT_MAX_THREADS=200
SERVER_TOMCAT_MIN_SPARE_THREADS=10

# =============================================================================
# DEVELOPMENT OVERRIDES
# =============================================================================
# These are only used in development profile

DEV_JWT_SECRET=development_secret_key_minimum_256_bits_long_for_security_requirements_2024_not_for_production
DEV_CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000
DEV_RATE_LIMIT_ENABLED=false
DEV_DRUID_SECURITY_ENABLED=false

# =============================================================================
# LLM PROVIDER KEYS (Optional)
# =============================================================================

# DeepSeek API key (used via OpenAI-compatible provider)
DEEPSEEK_API_KEY=

# OpenAI API key (if you switch back to OpenAI)
OPENAI_API_KEY=
